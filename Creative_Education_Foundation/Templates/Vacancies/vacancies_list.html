{% extends 'base.html' %}
{% load static %}

{% block title %}Job Vacancies - Creative Education Foundation{% endblock %}

{% block extra_css %}
<link rel="stylesheet" href="{% static 'pages/vacancies/vacancies.css' %}">
{% endblock %}

{% block content %}
<section class="vacancies-section">
    <div class="vacancies-container">
        <h1 class="page-title">Current Openings</h1>
        <p class="page-subtitle">Join our team and make a difference in education</p>

        {% if vacancies %}
            {% for vacancy in vacancies %}
            <div class="job-card">
                <div class="job-header">
                    <div class="job-image">
                        <img src="{% static 'img/logo.png' %}" alt="{{ vacancy.title }}">
                    </div>
                    
                    <div class="job-main-info">
                        <h2 class="job-title">{{ vacancy.title }}</h2>
                        
                        <div class="job-meta">
                            <div class="meta-item">
                                <svg width="18" height="18" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
                                    <rect x="2" y="7" width="20" height="14" rx="2" ry="2"/>
                                    <path d="M16 21V5a2 2 0 0 0-2-2h-4a2 2 0 0 0-2 2v16"/>
                                </svg>
                                <span>{{ vacancy.get_employment_type_display }}</span>
                            </div>
                            
                            <div class="meta-item">
                                <svg width="18" height="18" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
                                    <path d="M20 10c0 6-8 12-8 12s-8-6-8-12a8 8 0 0 1 16 0 Z"/>
                                    <circle cx="12" cy="10" r="3"/>
                                </svg>
                                <span>{{ vacancy.location }}</span>
                            </div>
                            
                            <div class="meta-item">
                                <svg width="18" height="18" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
                                    <path d="M3 9l9-7 9 7v11a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2z"/>
                                    <polyline points="9 22 9 12 15 12 15 22"/>
                                </svg>
                                <span>{{ vacancy.company_name }}</span>
                            </div>
                            
                            <div class="meta-item">
                                <svg width="18" height="18" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
                                    <path d="M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2"/>
                                    <circle cx="9" cy="7" r="4"/>
                                    <path d="M22 21v-2a4 4 0 0 0-3-3.87M16 3.13a4 4 0 0 1 0 7.75"/>
                                </svg>
                                <span>{{ vacancy.openings }} Openings</span>
                            </div>
                        </div>
                        
                        <div class="job-details">
                            <div class="detail-item">
                                <span>Rs. {{ vacancy.salary|floatformat:0 }}</span>
                            </div>
                            <div class="detail-item">
                                <span>{{ vacancy.get_level_display }}</span>
                            </div>
                            <div class="detail-item">
                                <span>{{ vacancy.get_mode_display }}</span>
                            </div>
                            <div class="detail-item">
                                <span>Deadline: {{ vacancy.deadline|date:"Y-m-d" }}</span>
                            </div>
                        </div>
                    </div>
                </div>
                
                <div class="job-description">
                    <h3>Job Description</h3>
                    <p>{{ vacancy.description|truncatewords:30 }}</p>
                </div>
                
                <div class="job-footer">
                    <a href="{% url 'vacancies_description' pk=vacancy.id %}" class="btn-learn-more">Learn More</a>
                    <span class="job-posted">{{ vacancy.created_at|date:"n/j/Y, g:i:s A" }}</span>
                </div>
            </div>
            {% endfor %}
        {% else %}
            <div class="no-vacancies">
                <p>No active vacancies at the moment. Please check back later.</p>
            </div>
        {% endif %}
    </div>
</section>
{% endblock %}